{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2026-02-19T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v9",
  "resources": [
    {
      "_id": "wrk_davivienda",
      "_type": "workspace",
      "name": "Davivienda API",
      "description": "E-commerce API — NestJS + Prisma + PostgreSQL",
      "scope": "collection"
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "parentId": "wrk_davivienda",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:4000/api",
        "access_token": "",
        "refresh_token": ""
      }
    },
    {
      "_id": "fld_auth",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Auth"
    },
    {
      "_id": "req_register",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Register",
      "method": "POST",
      "url": "{{ base_url }}/auth/register",
      "headers": [
        { "name": "Content-Type", "value": "application/json" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"Pass@12345\"\n}"
      }
    },
    {
      "_id": "req_login",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Login",
      "method": "POST",
      "url": "{{ base_url }}/auth/login",
      "headers": [
        { "name": "Content-Type", "value": "application/json" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"admin@davivienda.com\",\n  \"password\": \"Admin@12345\"\n}"
      }
    },
    {
      "_id": "req_login_customer",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Login (customer)",
      "method": "POST",
      "url": "{{ base_url }}/auth/login",
      "headers": [
        { "name": "Content-Type", "value": "application/json" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"customer@davivienda.com\",\n  \"password\": \"Customer@12345\"\n}"
      }
    },
    {
      "_id": "req_refresh",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Refresh Token",
      "method": "POST",
      "url": "{{ base_url }}/auth/refresh",
      "headers": [],
      "body": { "mimeType": "application/json", "text": "" }
    },
    {
      "_id": "req_logout",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Logout",
      "method": "POST",
      "url": "{{ base_url }}/auth/logout",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": { "mimeType": "application/json", "text": "" }
    },
    {
      "_id": "fld_products_public",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Products — Public"
    },
    {
      "_id": "req_get_products",
      "_type": "request",
      "parentId": "fld_products_public",
      "name": "GET /products (list)",
      "method": "GET",
      "url": "{{ base_url }}/products",
      "parameters": [
        { "name": "page", "value": "1", "disabled": true },
        { "name": "limit", "value": "20", "disabled": true },
        { "name": "search", "value": "Clean", "disabled": true },
        { "name": "categoryId", "value": "<uuid>", "disabled": true },
        { "name": "isActive", "value": "true", "disabled": true }
      ],
      "headers": [],
      "body": {}
    },
    {
      "_id": "req_get_products_search",
      "_type": "request",
      "parentId": "fld_products_public",
      "name": "GET /products?search=Clean",
      "method": "GET",
      "url": "{{ base_url }}/products",
      "parameters": [
        { "name": "search", "value": "Clean" }
      ],
      "headers": [],
      "body": {}
    },
    {
      "_id": "req_get_product_by_id",
      "_type": "request",
      "parentId": "fld_products_public",
      "name": "GET /products/:id",
      "method": "GET",
      "url": "{{ base_url }}/products/REPLACE_WITH_PRODUCT_ID",
      "headers": [],
      "body": {}
    },
    {
      "_id": "req_get_product_404",
      "_type": "request",
      "parentId": "fld_products_public",
      "name": "GET /products/:id — 404 (inactive / not found)",
      "method": "GET",
      "url": "{{ base_url }}/products/00000000-0000-0000-0000-000000000000",
      "headers": [],
      "body": {}
    },
    {
      "_id": "fld_products_admin",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Products — Admin"
    },
    {
      "_id": "req_create_product",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "POST /products (create)",
      "method": "POST",
      "url": "{{ base_url }}/products",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"New Product\",\n  \"description\": \"A detailed product description with at least ten chars.\",\n  \"price\": 49.99,\n  \"stock\": 100,\n  \"imageUrl\": \"https://placehold.co/600x400\",\n  \"categoryId\": \"REPLACE_WITH_CATEGORY_ID\"\n}"
      }
    },
    {
      "_id": "req_create_product_no_auth",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "POST /products — 401 (no token)",
      "method": "POST",
      "url": "{{ base_url }}/products",
      "headers": [
        { "name": "Content-Type", "value": "application/json" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"New Product\",\n  \"description\": \"A detailed description.\",\n  \"price\": 49.99,\n  \"stock\": 100,\n  \"imageUrl\": \"https://placehold.co/600x400\",\n  \"categoryId\": \"REPLACE_WITH_CATEGORY_ID\"\n}"
      }
    },
    {
      "_id": "req_create_product_customer",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "POST /products — 403 (customer role)",
      "method": "POST",
      "url": "{{ base_url }}/products",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"New Product\",\n  \"description\": \"A detailed description.\",\n  \"price\": 49.99,\n  \"stock\": 100,\n  \"imageUrl\": \"https://placehold.co/600x400\",\n  \"categoryId\": \"REPLACE_WITH_CATEGORY_ID\"\n}"
      }
    },
    {
      "_id": "req_update_product",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "PATCH /products/:id (update)",
      "method": "PATCH",
      "url": "{{ base_url }}/products/REPLACE_WITH_PRODUCT_ID",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"price\": 39.99,\n  \"stock\": 50\n}"
      }
    },
    {
      "_id": "req_update_product_404",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "PATCH /products/:id — 404 (not found)",
      "method": "PATCH",
      "url": "{{ base_url }}/products/00000000-0000-0000-0000-000000000000",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"price\": 39.99\n}"
      }
    },
    {
      "_id": "req_delete_product",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "DELETE /products/:id (soft-delete, 204)",
      "method": "DELETE",
      "url": "{{ base_url }}/products/REPLACE_WITH_PRODUCT_ID",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_delete_product_404",
      "_type": "request",
      "parentId": "fld_products_admin",
      "name": "DELETE /products/:id — 404 (already deleted or not found)",
      "method": "DELETE",
      "url": "{{ base_url }}/products/00000000-0000-0000-0000-000000000000",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "fld_cart",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Cart"
    },
    {
      "_id": "req_get_cart",
      "_type": "request",
      "parentId": "fld_cart",
      "name": "GET /cart",
      "method": "GET",
      "url": "{{ base_url }}/cart",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_add_cart_item",
      "_type": "request",
      "parentId": "fld_cart",
      "name": "POST /cart/items (add item)",
      "method": "POST",
      "url": "{{ base_url }}/cart/items",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"productId\": \"REPLACE_WITH_PRODUCT_ID\",\n  \"quantity\": 2\n}"
      }
    },
    {
      "_id": "req_update_cart_item",
      "_type": "request",
      "parentId": "fld_cart",
      "name": "PATCH /cart/items/:productId (update qty)",
      "method": "PATCH",
      "url": "{{ base_url }}/cart/items/REPLACE_WITH_PRODUCT_ID",
      "headers": [
        { "name": "Content-Type", "value": "application/json" },
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"quantity\": 5\n}"
      }
    },
    {
      "_id": "req_remove_cart_item",
      "_type": "request",
      "parentId": "fld_cart",
      "name": "DELETE /cart/items/:productId (remove item)",
      "method": "DELETE",
      "url": "{{ base_url }}/cart/items/REPLACE_WITH_PRODUCT_ID",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_cart_no_auth",
      "_type": "request",
      "parentId": "fld_cart",
      "name": "GET /cart — 401 (no token)",
      "method": "GET",
      "url": "{{ base_url }}/cart",
      "headers": [],
      "body": {}
    },
    {
      "_id": "fld_checkout",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Checkout"
    },
    {
      "_id": "req_checkout",
      "_type": "request",
      "parentId": "fld_checkout",
      "name": "POST /checkout (process order)",
      "method": "POST",
      "url": "{{ base_url }}/checkout",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_checkout_empty",
      "_type": "request",
      "parentId": "fld_checkout",
      "name": "POST /checkout — 400 (empty cart)",
      "method": "POST",
      "url": "{{ base_url }}/checkout",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_checkout_no_auth",
      "_type": "request",
      "parentId": "fld_checkout",
      "name": "POST /checkout — 401 (no token)",
      "method": "POST",
      "url": "{{ base_url }}/checkout",
      "headers": [],
      "body": {}
    },
    {
      "_id": "fld_orders",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Orders -- Customer"
    },
    {
      "_id": "req_user_orders",
      "_type": "request",
      "parentId": "fld_orders",
      "name": "GET /orders (user history)",
      "method": "GET",
      "url": "{{ base_url }}/orders",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_order_detail",
      "_type": "request",
      "parentId": "fld_orders",
      "name": "GET /orders/:id (order detail)",
      "method": "GET",
      "url": "{{ base_url }}/orders/REPLACE_WITH_ORDER_ID",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "fld_orders_admin",
      "_type": "request_group",
      "parentId": "wrk_davivienda",
      "name": "Orders -- Admin"
    },
    {
      "_id": "req_admin_orders",
      "_type": "request",
      "parentId": "fld_orders_admin",
      "name": "GET /admin/orders (all orders)",
      "method": "GET",
      "url": "{{ base_url }}/admin/orders",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ admin_token }}" }
      ],
      "body": {}
    },
    {
      "_id": "req_admin_update_status",
      "_type": "request",
      "parentId": "fld_orders_admin",
      "name": "PATCH /admin/orders/:id/status",
      "method": "PATCH",
      "url": "{{ base_url }}/admin/orders/REPLACE_WITH_ORDER_ID/status",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ admin_token }}" },
        { "name": "Content-Type", "value": "application/json" }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"status\": \"PROCESSING\"\n}"
      }
    },
    {
      "_id": "req_admin_orders_forbidden",
      "_type": "request",
      "parentId": "fld_orders_admin",
      "name": "GET /admin/orders — 403 (customer token)",
      "method": "GET",
      "url": "{{ base_url }}/admin/orders",
      "headers": [
        { "name": "Authorization", "value": "Bearer {{ access_token }}" }
      ],
      "body": {}
    }
  ]
}
